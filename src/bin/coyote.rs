////////////////////////////////////////////////////////////////////////////////////////////////////

// library wrapper
use coyote::*;

////////////////////////////////////////////////////////////////////////////////////////////////////

// standard libraries
use anyhow::Result as anyResult;
use clap::Parser;

////////////////////////////////////////////////////////////////////////////////////////////////////

// crate utilities
use crate::cmds::diag::diag;
use crate::cmds::load::load;
use crate::cmds::read::read;
use crate::cmds::train::train;
use crate::utils::help::*;

////////////////////////////////////////////////////////////////////////////////////////////////////

fn main() -> anyResult<()> {
  // collect command line arguments
  let params = Cli::parse();

  // match sub commands
  match &params.command {
    Commands::Read {} => {
      read()?;
    }

    Commands::Load { input, lang } => {
      load(input, lang.clone())?;
    }

    Commands::Train { lang } => {
      train(lang.clone())?;
    }

    Commands::Diag { lang } => {
      diag(lang.clone())?;
    }
  }

  Ok(())
}

////////////////////////////////////////////////////////////////////////////////////////////////////
